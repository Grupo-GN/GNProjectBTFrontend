<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="notificaciones.component.css" />
  </head>
  <body>
    <div class="container">
      <div class="search-bar">
        <div class="search-item">
          <svg
            class="search-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24">
            <path d="M20 6h-3V4c0-1.103-.897-2-2-2H9c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2zm-5-2v2H9V4h6zM4 8h16v4h-3v-2h-2v2H9v-2H7v2H4V8zm0 11v-5h3v2h2v-2h6v2h2v-2h3.001v5H4z"></path></svg>
          <input type="text" placeholder="Cargo o categoría" />
        </div>

        <div class="search-item">
          <svg
            class="search-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24">
            <path d="M12 2C7.589 2 4 5.589 4 9.995 3.971 16.44 11.696 21.784 12 22c0 0 8.029-5.56 8-12 0-4.411-3.589-8-8-8zM9.799 14.987H8v-1.799l4.977-4.97 1.799 1.799-4.977 4.97zm5.824-5.817-1.799-1.799L15.196 6l1.799 1.799-1.372 1.371z"></path>
          </svg>
          <input type="text" placeholder="Lugar" />
        </div>

        <button class="search-button">
          <svg
            class="search-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24">
            <path d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"></path>
          </svg>
        </button>
      </div>
    </div>

    <div class="tabs">
      <div class="tab" id="mi-area">
        <span class="icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24" >
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
          </svg>
        </span>
        <span class="label">Mi área</span>
      </div>

      <div class="tab" [routerLink]="'/CV'">
        <span class="icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24" >
            <path d="M15 11h7v2h-7zm1 4h6v2h-6zm-2-8h8v2h-8zM4 19h10v-1c0-2.757-2.243-5-5-5H7c-2.757 0-5 2.243-5 5v1h2zm4-7c1.995 0 3.5-1.505 3.5-3.5S9.995 5 8 5 4.5 6.505 4.5 8.5 6.005 12 8 12z" ></path>
          </svg>
        </span>
        <span class="label">Mi currículum</span>
      </div>

      <div class="tab">
        <span class="icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24" >
            <path d="M21 5c0-1.103-.897-2-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5zM5 19V5h14l.002 14H5z" ></path>
            <path d="M7 7h1.998v2H7zm4 0h6v2h-6zm-4 4h1.998v2H7zm4 0h6v2h-6zm-4 4h1.998v2H7zm4 0h6v2h-6z" ></path>
          </svg>
        </span>
        <span class="label">Test y Evaluaciones</span>
      </div>

      <div class="tab" id="configuracion">
        <span class="icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24" height="24"
            viewBox="0 0 24 24" >
            <path d="m2.344 15.271 2 3.46a1 1 0 0 0 1.366.365l1.396-.806c.58.457 1.221.832 1.895 1.112V21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1.598a8.094 8.094 0 0 0 1.895-1.112l1.396.806c.477.275 1.091.11 1.366-.365l2-3.46a1.004 1.004 0 0 0-.365-1.366l-1.372-.793a7.683 7.683 0 0 0-.002-2.224l1.372-.793c.476-.275.641-.89.365-1.366l-2-3.46a1 1 0 0 0-1.366-.365l-1.396.806A8.034 8.034 0 0 0 15 4.598V3a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v1.598A8.094 8.094 0 0 0 7.105 5.71L5.71 4.904a.999.999 0 0 0-1.366.365l-2 3.46a1.004 1.004 0 0 0 .365 1.366l1.372.793a7.683 7.683 0 0 0 0 2.224l-1.372.793c-.476.275-.641.89-.365 1.366zM12 8c2.206 0 4 1.794 4 4s-1.794 4-4 4-4-1.794-4-4 1.794-4 4-4z" ></path>
          </svg>
        </span>
        <span class="label">Configuración</span>
      </div>
    </div>

    <div id="postulaciones-section">
      <p>Mis Alertas</p>
    </div>


    <!-- Botón para crear nueva alerta -->
    <div class="create-new-alert">
        <button (click)="toggleNewAlertBox()">+ Crear nueva alerta</button>
      </div>
  
      <!-- Cuadro de Nueva Alerta -->
      <div *ngIf="showNewAlertBox && !editMode" class="alert-container">
        <div class="new-alert-box">
          <h2>{{ editMode ? 'Editar alerta' : 'Nueva alerta' }}</h2>
          <form (ngSubmit)="guardarAlerta()">
            <div class="form-group">
                <label for="cargo">Cargo</label>
                <input type="text" id="cargo" [(ngModel)]="newAlert.cargo" name="cargo">
             </div>
  
            <label>Categoría*</label>
            <div class="categories">
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Administración / Oficina')" value="Administración / Oficina"> Administración / Oficina</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Almacén / Logística / Transporte')"  value="Almacén / Logística / Transporte"> Almacén / Logística / Transporte</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Atención a clientes')"  value="Atención a clientes"> Atención a clientes</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('CallCenter / Telemercadeo')"   value="CallCenter / Telemercadeo"> CallCenter / Telemercadeo</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Compras / Comercio Exterior')"  value="Compras / Comercio Exterior"> Compras / Comercio Exterior </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Construcción y obra')"  value="Construcción y obra"> Construcción y obra</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Contabilidad / Finanzas')"  value="Contabilidad / Finanzas"> Contabilidad / Finanzas </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Dirección / Gerencia')"  value="Dirección / Gerencia"> Dirección / Gerencia </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Diseño / Artes gráficas')"  value="Diseño / Artes gráficas"> Diseño / Artes gráficas </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Docencia')"  value="Docencia"> Docencia </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Hostelería / Turismo')"  value="Hostelería / Turismo"> Hostelería / Turismo </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Informatíca / Telecomunicaciones')"  value="Informatíca / Telecomunicaciones"> Informatíca / Telecomunicaciones </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Ingeniería')"  value="Ingeniería"> Ingeniería </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Investigación y Calidad')"  value="Investigación y Calidad"> Investigación y Calidad </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Ventas')"  value="Ventas"> Ventas </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Recursos Humanos')" value="Recursos Humanos"> Recursos Humanos </label>
              <!-- Añade más categorías aquí -->
            </div>
  
            <label>Región*</label>
            <div class="regions">
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Lima')" value="Lima"> Lima</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Amazonas')" value="Amazonas"> Amazonas</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Ancash')" value="Ancash"> Ancash</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Apurimac')" value="Apurimac"> Apurimac</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Arequipa')" value="Arequipa"> Arequipa</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Callao')" value="Callao"> Callao</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Junin')" value="Junin"> Junin</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Loreto')" value="Loreto"> Loreto</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Cusco')" value="Cusco"> Cusco</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Ica')" value="Ica"> Ica</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Puno')" value="Puno"> Puno</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Tumbes')" value="Tumbes"> Tumbes</label>
              <!-- Añade más regiones aquí -->
            </div>
  
            <div class="button-container">
              <button type="submit">{{ editMode ? 'Actualizar' : 'Guardar' }}</button>
              <button type="button" (click)="toggleNewAlertBox()">Cancelar</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Mensaje de éxito -->
     <div class="success-message" *ngIf="showSuccessMessage">
        <div class="message-box">
            <p>La alerta ha sido {{ editMode ? 'actualizada' : 'creada' }} con éxito</p>
            <button (click)="closeSuccessMessage()">Aceptar</button>
        </div>
    </div>
  
<!-- Lista de alertas -->
<div class="alerts-list">
    <div *ngFor="let alert of paginatedAlertas; let i = index" [class.selected]="alertaSeleccionada === alert">
      <div class="alert-content">
        <div class="alert-info">
          <h3>{{ alert.cargo }}</h3>
          <p>{{ alert.categorias.join(', ') }}</p>
          <p>{{ alert.regiones.join(', ') }}</p>
        </div>
        <div class="actions">
          <button (click)="editAlerta(alert, i)" class="edit-btn" title="Edición de alerta"><i class="fa fa-pencil"></i></button>
          <button (click)="deleteAlerta(alert.id)" class="delete-btn" title="Eliminar"><i class="fa fa-trash"></i></button>
        </div>
      </div>
        <!-- Mostrar el cuadro de edición debajo de la alerta seleccionada -->
        <div *ngIf="editMode && editingIndex === i" class="edit-box">
            <h2>{{ editMode ? 'Editar alerta' : 'Nueva alerta' }}</h2>
            <form (ngSubmit)="guardarAlerta()">
              <div class="form-groop">
                <label for="cargo">Cargo</label>
                <input type="text" id="cargo" [(ngModel)]="newAlert.cargo" name="cargo">
             </div>
  
            <label>Categoría*</label>
            <div class="categories">
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Administración / Oficina')" value="Administración / Oficina"> Administración / Oficina</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Almacén / Logística / Transporte')"  value="Almacén / Logística / Transporte"> Almacén / Logística / Transporte</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Atención a clientes')"  value="Atención a clientes"> Atención a clientes</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('CallCenter / Telemercadeo')"   value="CallCenter / Telemercadeo"> CallCenter / Telemercadeo</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Compras / Comercio Exterior')"  value="Compras / Comercio Exterior"> Compras / Comercio Exterior </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Construcción y obra')"  value="Construcción y obra"> Construcción y obra</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Contabilidad / Finanzas')"  value="Contabilidad / Finanzas"> Contabilidad / Finanzas </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Dirección / Gerencia')"  value="Dirección / Gerencia"> Dirección / Gerencia </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Diseño / Artes gráficas')"  value="Diseño / Artes gráficas"> Diseño / Artes gráficas </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Docencia')"  value="Docencia"> Docencia </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Hostelería / Turismo')"  value="Hostelería / Turismo"> Hostelería / Turismo </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Informatíca / Telecomunicaciones')"  value="Informatíca / Telecomunicaciones"> Informatíca / Telecomunicaciones </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Ingeniería')"  value="Ingeniería"> Ingeniería </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Investigación y Calidad')"  value="Investigación y Calidad"> Investigación y Calidad </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Ventas')"  value="Ventas"> Ventas </label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'categoria')" [checked]="newAlert.categorias.includes('Recursos Humanos')" value="Recursos Humanos"> Recursos Humanos </label>
              <!-- Añade más categorías aquí -->
            </div>
  
            <label>Región*</label>
            <div class="regions">
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Lima')" value="Lima"> Lima</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Amazonas')" value="Amazonas"> Amazonas</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Ancash')" value="Ancash"> Ancash</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Apurimac')" value="Apurimac"> Apurimac</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Arequipa')" value="Arequipa"> Arequipa</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Callao')" value="Callao"> Callao</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Junin')" value="Junin"> Junin</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Loreto')" value="Loreto"> Loreto</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Cusco')" value="Cusco"> Cusco</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Ica')" value="Ica"> Ica</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Puno')" value="Puno"> Puno</label>
              <label><input type="checkbox" (change)="onCheckboxChange($event, 'region')" [checked]="newAlert.regiones.includes('Tumbes')" value="Tumbes"> Tumbes</label>
              <!-- Añade más regiones aquí -->
            </div>
                <div class="button-container">
                    <button type="submit">Actualizar</button>
                    <button type="button" (click)="cancelEdit()">Cancelar</button>
                </div>
            </form>
          
        </div>
    </div>
</div>


  
  <!-- Controles de paginación -->
  <div class="pagination"  *ngIf="alertas.length > itemsPerPage">
    <!-- Botón Anterior -->
    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">Anterior</button>
  
    <!-- Números de página -->
    <button *ngFor="let page of totalPagesArray" (click)="changePage(page)" [class.active]="currentPage === page" class="page-number">
      {{ page }}
    </button>
  
    <!-- Botón Siguiente -->
    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">Siguiente</button>
  </div>

  <!-- Footer -->
<footer class="footer">
  <div class="footer-content">
    <p>Copyright 2024 DGNET LTD.</p>
    <p><a href="#">Contacto de candidato</a> / <a href="#">Ayuda de candidato</a></p>
  </div>
  </footer>
  </body>



  
  
  
  
    
